<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="sale" language="i18ngroovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="797f10e7-0b3e-4c35-9d66-a649d6b4a5ef">
	<property name="ireport.zoom" value="1.4641000000000013"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="46"/>
	<property name="TRYTON_RELATIONS" value="[&apos;lines&apos;]"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["/"]]></defaultValueExpression>
	</parameter>
	<parameter name="TAXES_DS" class="java.lang.Object"/>
	<queryString language="xPath">
		<![CDATA[]]>
	</queryString>
	<field name="id" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/id]]></fieldDescription>
	</field>
	<field name="company-logo" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/company-company/logo-logo]]></fieldDescription>
	</field>
	<field name="company-name" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/company-company/party-party/name-name]]></fieldDescription>
	</field>
	<field name="company-vat_code" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/company-company/party-party/vat_code-vat_code]]></fieldDescription>
	</field>
	<field name="company-phone" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/company-company/party-party/phone-phone]]></fieldDescription>
	</field>
	<field name="company-email" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/company-company/party-party/email-email]]></fieldDescription>
	</field>
	<field name="company-zip" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/company-company/party-party/addresses-addresses/zip-zip]]></fieldDescription>
	</field>
	<field name="company-street" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/company-company/party-party/addresses-addresses/street-street]]></fieldDescription>
	</field>
	<field name="company-city" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/company-company/party-party/addresses-addresses/city-city]]></fieldDescription>
	</field>
	<field name="company-country" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/company-company/party-party/addresses-addresses/country-country/name-name]]></fieldDescription>
	</field>
	<field name="company-header" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/company-company/header-header]]></fieldDescription>
	</field>
	<field name="company-footer" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/company-company/footer-footer]]></fieldDescription>
	</field>
	<field name="company-sale_qty" class="java.lang.Boolean">
		<fieldDescription><![CDATA[/data/record/company-company/sale_qty-sale_qty]]></fieldDescription>
	</field>
	<field name="party-full_name" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/party-party/full_name-full_name]]></fieldDescription>
	</field>
	<field name="party-name" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/party-party/addresses-addresses/name-name]]></fieldDescription>
	</field>
	<field name="party-street" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/party-party/addresses-addresses/street-street]]></fieldDescription>
	</field>
	<field name="party-zip" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/party-party/addresses-addresses/zip-zip]]></fieldDescription>
	</field>
	<field name="party-city" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/party-party/addresses-addresses/city-city]]></fieldDescription>
	</field>
	<field name="party-country-name" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/party-party/addresses-addresses/country-country/name-name]]></fieldDescription>
	</field>
	<field name="party-lang" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/party-party/lang-lang/code-code]]></fieldDescription>
	</field>
	<field name="party-email" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/party-party/email-email]]></fieldDescription>
	</field>
	<field name="party-mobile" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/party-party/mobile-mobile]]></fieldDescription>
	</field>
	<field name="party-phone" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/party-party/phone-phone]]></fieldDescription>
	</field>
	<field name="party-fax" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/party-party/fax-fax]]></fieldDescription>
	</field>
	<field name="invoice-email" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/invoice_address-invoice_address/email-email]]></fieldDescription>
	</field>
	<field name="invoice-phone" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/invoice_address-invoice_address/phone-phone]]></fieldDescription>
	</field>
	<field name="invoice-mobile" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/invoice_address-invoice_address/mobile-mobile]]></fieldDescription>
	</field>
	<field name="invoice-fax" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/invoice_address-invoice_address/fax-fax]]></fieldDescription>
	</field>
	<field name="payment_term-name" class="java.lang.Object">
		<fieldDescription><![CDATA[/data/record/payment_term-payment_term/name-name]]></fieldDescription>
	</field>
	<field name="payment_type-name" class="java.lang.Object">
		<fieldDescription><![CDATA[/data/record/payment_type-payment_type/name-name]]></fieldDescription>
	</field>
	<field name="payment_type-note" class="java.lang.Object">
		<fieldDescription><![CDATA[/data/record/payment_type-payment_type/note-note]]></fieldDescription>
	</field>
	<field name="invoice-full_address_lang" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/invoice_address-invoice_address/full_address_lang-full_address_lang]]></fieldDescription>
	</field>
	<field name="shippment-full_address_lang" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/shipment_address-shipment_address/full_address_lang-full_address_lang]]></fieldDescription>
	</field>
	<field name="carrier-rec_name" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/carrier-carrier/rec_name-rec_name]]></fieldDescription>
	</field>
	<field name="number-number" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/number-number]]></fieldDescription>
	</field>
	<field name="reference-reference" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/reference-reference]]></fieldDescription>
	</field>
	<field name="state-state" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/state-state]]></fieldDescription>
	</field>
	<field name="sale_date-sale_date" class="java.util.Date">
		<fieldDescription><![CDATA[/data/record/sale_date-sale_date]]></fieldDescription>
	</field>
	<field name="comment-comment" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/comment-comment]]></fieldDescription>
	</field>
	<field name="currency-code" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/currency-currency/code-code]]></fieldDescription>
	</field>
	<field name="total_amount-total_amount" class="java.lang.Number">
		<fieldDescription><![CDATA[/data/record/total_amount-total_amount]]></fieldDescription>
	</field>
	<field name="untaxed_amount-untaxed_amount" class="java.lang.Number">
		<fieldDescription><![CDATA[/data/record/untaxed_amount-untaxed_amount]]></fieldDescription>
	</field>
	<field name="tax_amount-tax_amount" class="java.lang.Number">
		<fieldDescription><![CDATA[/data/record/tax_amount-tax_amount]]></fieldDescription>
	</field>
	<field name="currency-symbol" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/currency-currency/symbol-symbol]]></fieldDescription>
	</field>
	<field name="line-quantity" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/lines-lines/quantity-quantity]]></fieldDescription>
	</field>
	<field name="line-description" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/lines-lines/description-description]]></fieldDescription>
	</field>
	<field name="line-unit_price" class="java.lang.Number">
		<fieldDescription><![CDATA[/data/record/lines-lines/unit_price-unit_price]]></fieldDescription>
	</field>
	<field name="line-amount" class="java.lang.Number">
		<fieldDescription><![CDATA[/data/record/lines-lines/amount-amount]]></fieldDescription>
	</field>
	<field name="line-note" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/lines-lines/note-note]]></fieldDescription>
	</field>
	<field name="line-discount" class="java.lang.Number">
		<fieldDescription><![CDATA[/data/record/lines-lines/discount-discount]]></fieldDescription>
	</field>
	<field name="line-type" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/lines-lines/type-type]]></fieldDescription>
	</field>
	<field name="user-name" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/create_uid-create_uid/name-name]]></fieldDescription>
	</field>
	<field name="user-email" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/create_uid-create_uid/email-email]]></fieldDescription>
	</field>
	<field name="gross_unit_price-gross_unit_price" class="java.lang.Number">
		<fieldDescription><![CDATA[/data/record/lines-lines/gross_unit_price-gross_unit_price]]></fieldDescription>
	</field>
	<field name="sale_discount-sale_discount" class="java.lang.Number">
		<fieldDescription><![CDATA[/data/record/sale_discount-sale_discount]]></fieldDescription>
	</field>
	<field name="sale_description" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/description-description]]></fieldDescription>
	</field>
	<variable name="L" class="java.util.Locale">
		<variableExpression><![CDATA[$F{party-lang} != null && $F{party-lang}.length() == 5 ? new Locale($F{party-lang}) : ( $F{party-lang} != null && $F{party-lang}.length() == 2 ? new Locale($F{party-lang}) : new Locale('en_US'))]]></variableExpression>
		<initialValueExpression><![CDATA[$F{party-lang} != null && $F{party-lang}.length() == 5 ? new Locale($F{party-lang}) : ( $F{party-lang} != null && $F{party-lang}.length() == 2 ? new Locale($F{party-lang}) : new Locale('en_US'))]]></initialValueExpression>
	</variable>
	<group name="Sale" isStartNewPage="true" isResetPageNumber="true">
		<groupExpression><![CDATA[$F{id}]]></groupExpression>
		<groupHeader>
			<band height="155">
				<textField>
					<reportElement x="57" y="139" width="148" height="12" uuid="480c2baa-c354-4696-9624-c6328ee9294c"/>
					<textElement>
						<font size="9" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[tr($V{L},"Description")]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="16" y="139" width="40" height="12" uuid="11ac5fde-4fc0-418d-bf89-a440dcf11d91"/>
					<textElement textAlignment="Center">
						<font size="9" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[tr($V{L},"Qty")]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="407" y="139" width="50" height="12" uuid="e7c3d55a-4cc7-43eb-8105-5b5eae5f2ddf"/>
					<textElement textAlignment="Right">
						<font size="9" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[tr($V{L},"Price")]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="490" y="139" width="48" height="12" uuid="d32f25ca-115d-4069-9f00-51fa8cfd3237"/>
					<textElement textAlignment="Right">
						<font size="9" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[tr($V{L},"Total")]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="305" y="5" width="240" height="67" uuid="b74e97f7-ea4b-4457-bf56-b402c32293a7"/>
					<textElement markup="styled">
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA["<style isBold='true' pdfFontName='Helvetica'>"+$F{party-full_name}.replaceAll("&","&amp;")+"</style>\n"+$F{invoice-full_address_lang}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="305" y="72" width="240" height="1" uuid="5c37cf37-8f6b-4cdf-9f6c-b4bb87300966"/>
				</line>
				<textField>
					<reportElement x="305" y="88" width="240" height="46" uuid="0a0d16b2-12db-4f81-b7a9-d58d2da8cfdd"/>
					<textElement>
						<font size="9" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{shippment-full_address_lang}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="10" y="5" width="280" height="15" forecolor="#010101" uuid="38d19167-80e2-4261-bed5-9763562e5546"/>
					<textElement textAlignment="Left">
						<font size="12" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[($F{state-state}.equals("quotation") || $F{state-state}.equals("draft")) ? tr($V{L},"Quotation")+" "+$F{number-number} : tr($V{L},"Sale Order")+" "+$F{reference-reference}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="10" y="22" width="228" height="12" uuid="26e6798f-861a-4c79-87d9-3a4c69a4afb3">
						<printWhenExpression><![CDATA[$F{sale_date-sale_date} != null]]></printWhenExpression>
					</reportElement>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA[tr($V{L},"Date")+": "+new SimpleDateFormat("dd'-'MM'-'yyyy").format($F{sale_date-sale_date})]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="10" y="152" width="530" height="1" uuid="94720de1-ef7d-4a5b-8911-761fdf921c0b"/>
				</line>
				<textField>
					<reportElement x="305" y="76" width="240" height="15" uuid="2c79e474-d828-446d-b678-73308544f19b"/>
					<textElement>
						<font size="9" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[tr($V{L},"Shipment Address")]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="10" y="39" width="279" height="12" uuid="70dbbf08-888b-4e77-a5c9-0b27a89dec77"/>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA[($F{invoice-email} || $F{party-email}) ? $F{invoice-email} ? tr($V{L},"Email")+": "+$F{invoice-email} : tr($V{L},"Email")+": "+$F{party-email} : '']]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="10" y="51" width="279" height="12" uuid="81a95e5b-e904-4ced-81a8-82f79e6f2ea7"/>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA[($F{invoice-phone} || $F{party-phone}) ? $F{invoice-phone} ? tr($V{L},"Phone")+": "+$F{invoice-phone} : tr($V{L},"Phone")+": "+$F{party-phone} : '']]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="10" y="63" width="279" height="12" uuid="75394f81-b730-449a-a29c-779e7b559de1"/>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA[($F{invoice-mobile} || $F{party-mobile}) ? $F{invoice-mobile} ? tr($V{L},"Mobile")+": "+$F{invoice-mobile} : tr($V{L},"Mobile")+": "+$F{party-mobile} : '']]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="10" y="75" width="279" height="12" uuid="f2d9f535-1811-4d79-8bc4-5f338f5c3d19"/>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA[($F{invoice-fax} || $F{party-fax}) ? $F{invoice-fax} ? tr($V{L},"Fax")+": "+$F{invoice-fax} : tr($V{L},"Fax")+": "+$F{party-fax} : '']]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="10" y="110" width="280" height="14" uuid="b2173c65-7503-41d1-82d1-340abde1d4ad"/>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{sale_description}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="10" y="96" width="280" height="14" uuid="6f4d9338-b449-47cd-a5d8-1b65ad8653fe"/>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{reference-reference}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="97" splitType="Prevent">
				<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="false">
					<reportElement x="445" y="68" width="80" height="14" uuid="656cea85-f02c-41bf-9e8a-90e24286e431"/>
					<textElement textAlignment="Right">
						<font fontName="DejaVu Sans" size="9" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{total_amount-total_amount} ? $F{total_amount-total_amount} : 0]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="false">
					<reportElement x="445" y="27" width="80" height="14" uuid="b3dd54c0-0d2f-44ba-8206-9da95d926c43"/>
					<textElement textAlignment="Right">
						<font size="9" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{untaxed_amount-untaxed_amount} ? $F{untaxed_amount-untaxed_amount} : 0]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="false">
					<reportElement x="445" y="45" width="80" height="14" uuid="56bc960d-c419-46cb-8320-4710d6893e4a"/>
					<textElement textAlignment="Right">
						<font size="9" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{tax_amount-tax_amount} ? $F{tax_amount-tax_amount} : 0]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="390" y="45" width="55" height="14" uuid="a7719139-d092-4421-ac55-9267952452a8"/>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA[tr($V{L},"Tax")+":"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="390" y="68" width="55" height="14" uuid="e986da79-cb9f-4102-a9eb-e93a563f2ff6"/>
					<textElement>
						<font fontName="DejaVu Sans" size="9" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA[tr($V{L},"Total")+":"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="390" y="27" width="55" height="14" uuid="08e99406-40c0-45bd-9af4-a6b168e24cb1"/>
					<textElement>
						<font size="9" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA[tr($V{L},"Untaxed")+":"]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="10" y="62" width="367" height="29" isRemoveLineWhenBlank="true" uuid="e47cc87a-2ba2-4334-8d89-8103abed4308"/>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{comment-comment}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="390" y="61" width="150" height="1" uuid="c2b74423-a219-4eca-9d58-11e611bb40bc"/>
				</line>
				<textField>
					<reportElement x="527" y="27" width="19" height="12" uuid="5c4d950c-1f33-4dfe-ac42-5216fb4f12ec"/>
					<textElement>
						<font size="9" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{currency-symbol}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="527" y="45" width="19" height="12" uuid="8ee41cfb-00cd-4b0f-b181-9639bcee1da6"/>
					<textElement>
						<font size="9" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{currency-symbol}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="527" y="68" width="19" height="12" uuid="56a91205-fe35-4ff4-a478-fec27930dfeb"/>
					<textElement>
						<font size="9" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{currency-symbol}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="390" y="23" width="150" height="1" uuid="f28b93a7-f911-4823-af6a-5830fda7176f"/>
				</line>
				<line>
					<reportElement x="10" y="3" width="530" height="1" uuid="b7222a06-bef9-4e1d-9d7a-be5d6923c473"/>
				</line>
				<textField>
					<reportElement x="10" y="11" width="367" height="12" uuid="2ec6e329-9835-42af-bf17-bf12b2127f0b">
						<printWhenExpression><![CDATA[$F{payment_term-name} != '']]></printWhenExpression>
					</reportElement>
					<textElement>
						<font size="9" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA[tr($V{L},"Payment Term")+": "+$F{payment_term-name}.get($F{party-lang})]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="10" y="48" width="367" height="12" uuid="34ef4275-ed1a-439f-9507-c72ce6361d30">
						<printWhenExpression><![CDATA[$F{carrier-rec_name} != '']]></printWhenExpression>
					</reportElement>
					<textElement>
						<font size="9" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA[tr($V{L},"Carrier")+": "+$F{carrier-rec_name}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="10" y="24" width="367" height="23" uuid="98c173b1-881b-4b80-b4bb-8f95ea8abdbd">
						<printWhenExpression><![CDATA[$F{payment_type-name}.get($F{party-lang}) != null]]></printWhenExpression>
					</reportElement>
					<textElement>
						<font size="9" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA[tr($V{L},"Payment Type")+": "+$F{payment_type-name}.get($F{party-lang})+"\n"+$F{payment_type-note}.get($F{party-lang}, '')]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="390" y="11" width="67" height="12" uuid="ac3c9321-b48f-4c26-893d-8c7fc890dc9f">
						<printWhenExpression><![CDATA[$F{sale_discount-sale_discount} != 0]]></printWhenExpression>
					</reportElement>
					<textElement>
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA[tr($V{L},"Discount")+":"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="462" y="11" width="76" height="12" uuid="73c81d0c-230b-4642-83a9-68aeade2aa3a">
						<printWhenExpression><![CDATA[$F{sale_discount-sale_discount} != 0]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Right">
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA[Double.valueOf($F{sale_discount-sale_discount}*100).doubleValue()+"%"]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<pageHeader>
		<band height="87">
			<image>
				<reportElement x="10" y="12" width="280" height="60" isRemoveLineWhenBlank="true" uuid="ab24e99e-d3dc-4dd8-919f-5b4c5115a8db">
					<printWhenExpression><![CDATA[$F{company-logo}.length()>0]]></printWhenExpression>
				</reportElement>
				<imageExpression><![CDATA[$F{company-logo}]]></imageExpression>
			</image>
			<textField isStretchWithOverflow="true">
				<reportElement x="10" y="75" width="535" height="10" isRemoveLineWhenBlank="true" forecolor="#808080" uuid="cb7505ae-feb2-424b-854a-5aa280128a4f"/>
				<textElement textAlignment="Left">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{company-header}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="19" splitType="Stretch">
			<textField isStretchWithOverflow="true">
				<reportElement x="16" y="2" width="474" height="12" uuid="a68e49fc-dca2-48bf-a369-91523da21914">
					<printWhenExpression><![CDATA[$F{line-type} == "title" || $F{line-type} == "comment" || $F{line-type} == "subtotal"]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Left" markup="styled">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{line-note} ? $F{line-description}+"\n<style forecolor=\"#808080\">"+$F{line-note}+"</style>" : $F{line-description}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="57" y="2" width="347" height="12" uuid="fee4defc-7102-4a87-85a6-b9e0e5c7c74f">
					<printWhenExpression><![CDATA[$F{line-type} == "line"]]></printWhenExpression>
				</reportElement>
				<textElement markup="styled">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{line-note} ? $F{line-description}+"\n<style forecolor=\"#808080\">"+$F{line-note}+"</style>" : $F{line-description}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00">
				<reportElement x="407" y="2" width="50" height="12" uuid="52becf9f-b17b-495a-a978-e06b601c8c55">
					<printWhenExpression><![CDATA[$F{line-type} == "line"]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{gross_unit_price-gross_unit_price} ? $F{gross_unit_price-gross_unit_price} : $F{line-unit_price} ? $F{line-unit_price} : 0]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00">
				<reportElement x="490" y="2" width="50" height="12" uuid="fba565ed-db97-4242-91ca-cece0bfef0c1">
					<printWhenExpression><![CDATA[$F{line-type} == "line" || $F{line-type} == "subtotal"]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{line-amount} ? $F{line-amount} : 0]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement x="461" y="2" width="26" height="12" uuid="9651a8d5-b008-412f-bdeb-15a4634ed622">
					<printWhenExpression><![CDATA[$F{line-type} == "line"]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{line-discount} ? "-"+ (int)Double.valueOf($F{line-discount}*100).doubleValue()+"%" : ""]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="16" y="2" width="40" height="12" uuid="845e3c2f-289f-4749-be42-e03b42c5ab6c">
					<printWhenExpression><![CDATA[$F{line-type} == "line"]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{line-quantity} ? $F{company-sale_qty} ? (int)Double.valueOf($F{line-quantity}.trim()).doubleValue() : Double.valueOf($F{line-quantity}.trim()).doubleValue() : '0']]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="89" splitType="Stretch">
			<rectangle>
				<reportElement x="529" y="4" width="100" height="20" forecolor="#FEFEFE" backcolor="#A0A0A0" uuid="b61375fa-aa84-47c8-9ca2-36fbbeadf65c"/>
			</rectangle>
			<textField>
				<reportElement x="538" y="9" width="80" height="11" forecolor="#FCFCFC" uuid="cdc5364d-e44e-4e70-b891-a74315980066"/>
				<textElement textAlignment="Left">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="10" y="6" width="304" height="11" forecolor="#010101" uuid="d1586d85-815a-4a83-b109-15db7f5f67de"/>
				<textElement>
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{company-name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="10" y="29" width="304" height="11" forecolor="#808080" uuid="e8cfb7fc-c08e-4b03-9a48-46f9903ca9b7"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{company-zip}+" "+$F{company-city}+" "+$F{company-country}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="10" y="17" width="304" height="11" forecolor="#808080" uuid="e87189f0-5563-4d12-a6f4-0da49045bf39"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{company-street}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="9" y="42" width="304" height="11" forecolor="#808080" uuid="554a7b7a-5de5-4629-b221-0fc666a8a18b"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{company-vat_code}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="9" y="73" width="535" height="10" isRemoveLineWhenBlank="true" forecolor="#808080" uuid="e5d664fa-1a05-49ca-8267-3e7d08009c64"/>
				<textElement textAlignment="Center">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{company-footer}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="9" y="54" width="304" height="12" forecolor="#808080" uuid="6af1b7eb-141c-4d82-856c-4e2fca9ca685"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["T. "+ $F{company-phone}+" "+$F{company-email}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
